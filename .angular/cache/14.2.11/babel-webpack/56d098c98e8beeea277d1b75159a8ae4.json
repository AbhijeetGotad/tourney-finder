{"ast":null,"code":"import { ChangeDetectorRef } from '@angular/core';\nimport { menuAnimation, hideAnimation, contentAnimation } from \"../animations\";\nimport { NavigationEnd } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/cdk/layout\";\nconst _c0 = [\"drawer\"];\nexport let CompetitionListComponent = /*#__PURE__*/(() => {\n  class CompetitionListComponent {\n    constructor(router, changeDetectorRef, media, route) {\n      this.router = router;\n      this.changeDetectorRef = changeDetectorRef;\n      this.media = media;\n      this.route = route;\n      this.menuList = [{\n        menuid: 90,\n        ext_menuid: 90,\n        name: \"Dashboard\",\n        displayName: \"Dashboard\",\n        shortDescription: \"Dashboard\",\n        longDescription: \"Dashboard\",\n        route: \"/landing/competitions-list\",\n        iconImage: \"sidebar-ico auto-call-submenu\",\n        sequence: 0,\n        isFolder: 0\n      }, {\n        menuid: 90,\n        ext_menuid: 90,\n        name: \"Masters\",\n        displayName: \"Masters\",\n        shortDescription: \"Masters\",\n        longDescription: \"Masters\",\n        route: \"/landing/competitions-list\",\n        iconImage: \"sidebar-ico auto-call-submenu\",\n        sequence: 0,\n        isFolder: 2\n      }, {\n        menuid: 90,\n        ext_menuid: 90,\n        name: \"Travel Requests\",\n        displayName: \"Travel Requests\",\n        shortDescription: \"Travel Requests\",\n        longDescription: \"Travel Requests\",\n        route: \"/travel-requests\",\n        iconImage: \"sidebar-ico people-sidebar-ico\",\n        sequence: 0,\n        isFolder: 2\n      }, {\n        menuid: 90,\n        ext_menuid: 90,\n        name: \"Search\",\n        displayName: \"Search\",\n        shortDescription: \"Search\",\n        longDescription: \"Search\",\n        route: \"/search\",\n        iconImage: \"sidebar-ico succession-planning-sidebar-ico\",\n        sequence: 0,\n        isFolder: 2\n      }, {\n        menuid: 90,\n        ext_menuid: 90,\n        name: \"Reports\",\n        displayName: \"Reports\",\n        shortDescription: \"Reports\",\n        longDescription: \"Reports\",\n        route: \"/reports\",\n        iconImage: \"sidebar-ico performance-mgmt-sidebar-ico\",\n        sequence: 0,\n        isFolder: 2\n      }];\n      this.certifyFlag = true;\n      this.EducertifyFlag = true;\n      this.selectedItem = \"home\";\n      this.isOpened = true;\n      this.routesList = [{\n        menuName: \"performance-management\",\n        routeName: \"performance-management\"\n      }, {\n        menuName: \"efile\",\n        routeName: \"efile\"\n      }, {\n        menuName: \"people-management\",\n        routeName: \"people-management\"\n      }, {\n        menuName: \"leaveAttendance\",\n        routeName: \"leave-and-attendance\"\n      }, {\n        menuName: \"separation\",\n        routeName: \"separation\"\n      }, {\n        menuName: \"compensation\",\n        routeName: \"compensation\"\n      }, {\n        menuName: \"assessment\",\n        routeName: \"assessment\"\n      }];\n      this.mobileQuery = media.matchMedia(\"(max-width: 1279px)\");\n      this.desktopQuery = media.matchMedia(\"(min-width: 1280px)\");\n      this.xlDesktopQuery = media.matchMedia(\"(min-width: 1920px)\");\n\n      this._mobileQueryListener = () => changeDetectorRef.detectChanges();\n\n      this.mobileQuery.addListener(this._mobileQueryListener);\n      router.events.subscribe(val => {\n        if (val instanceof NavigationEnd) {\n          if (val.url) {\n            const getPathName = val.url.split(\"/\")[1];\n            const getRouteInfo = this.routesList.find(x => x.routeName === getPathName);\n\n            if (getRouteInfo) {\n              this.selectedItem = getRouteInfo.menuName;\n            }\n          }\n        }\n      });\n    }\n\n    ngOnInit() {\n      this.setMenuList(); //new\n      // console.log(this.isOpened)\n      // console.log(this.mobileQuery.matches)\n      // this.service.openSubject.subscribe((open) => (this.isOpened = open));\n      // this.isOpened = this.mobileQuery.matches ? false : true;\n    }\n\n    setMenuList() {// let menuList = this.authService.menuList;\n      // if (menuList && menuList.length > 0) {\n      //   this.menuList = menuList;\n      // } else if (sessionStorage.getItem(\"menuList\") != undefined) {\n      //   this.menuList = JSON.parse(sessionStorage.getItem(\"menuList\"));\n      // } else {\n      //   this.authService.getMenuList.subscribe((res) => {\n      //     this.authService.parseMenuData(res);\n      //     this.menuList = this.authService.menuList;\n      //   });\n      // }\n    }\n\n    ngAfterViewInit() {\n      // this.service.setDrawer(this.drawer);\n      this.mobileQuery.addListener(this._mobileQueryListener);\n    }\n\n    gotoMenuLink(menuItem) {\n      var _a, _b;\n\n      let data = (_b = (_a = JSON.parse(sessionStorage.getItem(\"userServices\"))) === null || _a === void 0 ? void 0 : _a.result) === null || _b === void 0 ? void 0 : _b.tileJson[menuItem.menuid];\n\n      if ((data === null || data === void 0 ? void 0 : data.length) > 0 && (menuItem === null || menuItem === void 0 ? void 0 : menuItem.isFolder) == 1) {\n        this.selectedItem = menuItem === null || menuItem === void 0 ? void 0 : menuItem.name;\n        this.navigateToChildren(menuItem);\n      } else {\n        // if (name.toLowerCase() == \"home\") {\n        //   window.location.href = \"https://hrplatformdev.ril.com/webapp/\";\n        // } else {\n        let url = menuItem === null || menuItem === void 0 ? void 0 : menuItem.route.toLowerCase().trim();\n        this.selectedItem = menuItem === null || menuItem === void 0 ? void 0 : menuItem.name;\n        this.router.navigate([url]); // }\n      }\n\n      this.isOpened = false; // this.service.isOpened = this.isOpened;\n    }\n\n    ngOnDestroy() {\n      // this.isExpandedSubscription.unsubscribe();\n      // this.mobileQuery.removeListener(this._mobileQueryListener);\n      console.log(\"sidenavbar destoryed\"); // this.service.toggleWithBoolean(false);\n    } // new\n\n\n    temp() {// this.service.toggleWithBoolean(false);\n      // this.isOpened = this.mobileQuery.matches ? false : true;\n      // console.log(this.isOpened)\n      // this.service.isOpened = this.isOpened\n      // this.isOpened= true\n      // this.service.toggleWithBoolean(false);\n      // this.isOpened= true;\n      // console.log(this.isOpened)\n      // console.log(this.mobileQuery.matches)\n      // this.commonService.toggle();\n    }\n\n    navigateToChildren(menuItem) {\n      var _a, _b;\n\n      let url = menuItem === null || menuItem === void 0 ? void 0 : menuItem.route.toLowerCase().trim();\n      let routeConfig = (_b = (_a = this.router) === null || _a === void 0 ? void 0 : _a.config[0]) === null || _b === void 0 ? void 0 : _b.children.filter(v => v.path == url); // if (routeConfig.length == 0) {\n      //   this.route.routeConfig.children.push({\n      //     path: url,\n      //     component: MenuGridComponent,\n      //   });\n      // }\n\n      this.router.navigate([url], {\n        state: {\n          data: {\n            Id: menuItem.menuid\n          }\n        }\n      });\n    }\n\n  }\n\n  CompetitionListComponent.ɵfac = function CompetitionListComponent_Factory(t) {\n    return new (t || CompetitionListComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i2.MediaMatcher), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n  };\n\n  CompetitionListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CompetitionListComponent,\n    selectors: [[\"app-competition-list\"]],\n    viewQuery: function CompetitionListComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.drawer = _t.first);\n      }\n    },\n    decls: 2,\n    vars: 0,\n    template: function CompetitionListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"competition-list works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\".mat-drawer[_ngcontent-%COMP%]   .mat-drawer-inner-container[_ngcontent-%COMP%]{overflow:hidden!important}.sidenav-container[_ngcontent-%COMP%]   .mat-drawer[_ngcontent-%COMP%]{position:fixed!important;top:32px!important}.sidenav-container[_ngcontent-%COMP%]   .sidebar-ico[_ngcontent-%COMP%]{height:20px;width:20px;background-repeat:no-repeat;display:inline-block;background-size:20px;background-position:center}.sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-icon[_ngcontent-%COMP%]{height:20px;width:20px;font-size:20px;border-radius:0}.sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item.mat-list-item-with-avatar[_ngcontent-%COMP%], .sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-option.mat-list-item-with-avatar[_ngcontent-%COMP%]{height:34px}.sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-text[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-list-text[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:300!important}.sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item.active-nav-item[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:500!important}.sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item.active-nav-item[_ngcontent-%COMP%]   .mat-list-text[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:500!important}.sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item.active-nav-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;left:0;top:0;background-color:var(--color-primary);height:34px;width:9px}@media only screen and (min-width: 1440px) and (max-width: 1919px){.sidenav-container[_ngcontent-%COMP%]   .sidebar-ico[_ngcontent-%COMP%]{height:24px;width:24px;background-size:24px}.sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-icon[_ngcontent-%COMP%]{height:24px;width:24px;font-size:24px}.sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item.mat-list-item-with-avatar[_ngcontent-%COMP%], .sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-option.mat-list-item-with-avatar[_ngcontent-%COMP%]{height:38px}.sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item.active-nav-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{height:38px}}@media only screen and (min-width: 1920px){.sidenav-container[_ngcontent-%COMP%]   .sidebar-ico[_ngcontent-%COMP%]{height:28px;width:28px;background-size:28px}.sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-icon[_ngcontent-%COMP%]{height:28px;width:28px;font-size:28px}.sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item.mat-list-item-with-avatar[_ngcontent-%COMP%], .sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-option.mat-list-item-with-avatar[_ngcontent-%COMP%]{height:48px}.sidenav-container[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item.active-nav-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{height:48px}}\"],\n    data: {\n      animation: [menuAnimation, hideAnimation, contentAnimation]\n    }\n  });\n  return CompetitionListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}